<!DOCTYPE html>
<html class="full-srceen bgcolor-gray" lang="en"><!--full-srceen-->
<head>
	<meta http-equiv="X-UA-Compatiblesha." content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>虎十哈学堂</title>
	<link rel="shortcut icon" href="img/favicon.ico">
	<link rel="stylesheet" type="text/css" media="all" href="css/reset.css" />
	<link rel="stylesheet" type="text/css" media="all" href="css/base.css" />
	<link rel="stylesheet" type="text/css" media="all" href="css/fonts.css" />
	<link rel="stylesheet" type="text/css" media="all" href="css/widget.css" />
	<link rel="stylesheet" type="text/css" media="all" href="css/custom.css"/>
	<script type="text/javascript" src="js/libs/jquery-1.8.2.min.js"></script>
	<script src="js/libs/canvas-designer-widget.js"></script>
	<script src="js/libs/RTCMultiConnection.js"></script>
	<script src="js/libs/socket.io.js"></script>
	<script type="text/javascript" src="js/libs/tool.js"></script>
	<script type="text/javascript" src="js/libs/fabric.js"></script>
	<script type="text/javascript" src="js/widgets/utils.js"></script>
	<script type="text/javascript" src="js/widgets/draw.js"></script>
	<style>
		.canvas-container{
			position: absolute!important;
		}
	</style>
</head>
<body class="full-srceen"><!--full-srceen-->

<div class="container">
	<div class="screen-content video-right">
		<header class="header">
			<a href="javascript:;" class="logo" title="虎十哈学堂"><img src="img/logo-new.png"></a>
			<div class="user-option">
					<span class="user-info no-arrow">
						<%if(userinfo.sex=="M"){%>
							<img src="img/t-photo.jpg" width="49">
						<%}else{%>
                    		<img src="img/t-photo1.jpg" width="49">
                   		<%}%>
                   		<%if(userinfo.nickname){%>
							<span class="name"><%=userinfo.nickname%></span>
						<%}else{%>
                    		<span class="name">某同学</span>
                   		<%}%>
					</span>
			</div>
		</header>
		<div class="content video-full" id="content_container"><!--video-full-->
			<div class="ppt-show" style="display:none;">
				<div class="ppt-box" id="ppt-box" onselectstart="return false;" unselectable="on">
					<!--<canvas id="_canvas" class="ppt-canvas"></canvas>-->
					<div id="ppt_canvas"></div>
					<!--<div id="slides" class="ppt-slides"><img src="http://doc.tt139.com/data/group1M00/0398wKgzO/TdytA/group1M000398wKgzOVJl5aOYTdytACKld1EtXa837_M00/960/slide1.jpg" width="732" height="524"></div>-->
					<div id="slides" class="ppt-slides"></div>
				</div>
				<%if(!!mode && mode=="t"){%>
				<div id="toolbar" class="toolbar">
					<button class="btn" node-type="left" data-key="37"><i class="icons icons-prepage"></i></button>
					<button class="btn" style="display: none;"><i class="icons icons-photoMenu"></i></button>
					<button class="btn" node-type="right" data-key="39"><i class="icons icons-nextpage"></i></button>
				</div>
				<%}%>
			</div>

			<!--drawboard container-->
			<div class="drawingboard" id="widget-container" data-roomid="<%=roomid%>" style="display:none;"></div>

			<div class="desktopmac" id="videoScreenSharing" style="display: none;">
				<div class="desktopmac-pic"><img src="img/desktopmac.jpg" class="default-img"></div>				
			</div>

			<article class="side-box">
				<div class="video-list clearfix" id="video-list">
					<div class="video-item" id="videos-remote-container">
						<!--<img src="img/p-2.jpg">-->
					</div>
					<div class="video-item" id="videos-local-container">
						<!--<img src="img/p-1.jpg">-->
					</div>
				</div>
			</article>
		</div>
	</div>
</div>

<div class="popover fade" node-type="ppt_list" style="top: 100px;display: none; position:fixed; width:250px;">
	<div class="popover-inner">
		<div class="file-box" id="container">
			<div class="btn-upload" id="upload_ppt"><i class="icons icons-filepic"></i>上传附件</div>
			<ul class="list-upload" node-type="up_list">
				<li class="l-upload-box" node-type="upload_progress" style="display: none;">
					<div class="uploadFeedback">
						<div class="progressName clearfix">
							<span class="name ellipsis-l1n">上传中...</span>
							<span class="number">50%</span>
						</div>
						<div class="progressBar-wrap"><span class="progressBar" style="width:50%;"></span></div>
					</div>
				</li>
				<% if(ppts.length > 0){
					ppts.forEach(function(ppt){ %>
				<li data-rid="<%=ppt.ppt_id%>" style="cursor: cell;"><img src="<%=ppt.cover_image%>"><p><%=ppt.ppt_name%></p></li>
				<% 	}) 
					}else{ %>
				<li id="ppt_empty" style="cursor: cell;"><p style="text-align: center;">暂时没有课件</p></li>
				<%}%>
			</ul>
		</div>
	</div>
</div>

<!--蒙层start-->
<div id="masker" class="masker masker--black"></div>
<!--蒙层end-->
<!--文件选择层 start-->
<div class="popover popover-middle fade" id="filesListLayer" style="display:none;">
	<div class="popover-inner filelist-box">
		<div class="filelist-header">
			<div class="filelist-item clearfix">
				<span class="file-name">名称</span>
				<!-- <span class="file-size">大小</span> -->
				<!-- <span class="file-time">时间</span> -->
			</div>
		</div>	
		<div class="filelist-body">
			<div class="filelist-item clearfix empty">
				<span class="file-name ellipsis-l1n" style="width:100%;">
					请点击上传附件
				</span>
			</div>
		</div>
		<div class="filelist-footer">
			<button class="btn btn-primary default-btn-width" node-type="uploadBtn">上传</button>
			<button class="btn default-btn-width" node-type="touScreenBtn">投屏</button>
			<button class="btn default-btn-width" node-type="cancelBtn">取消</button>
		</div>
	</div>
</div>
<!--文件选择层 end-->

<!--扩展start-->
<div class="popover fade" node-type='extendlayer' style="display:none;">
	<div class="popover-inner layer-box">
		<div class="layer-header">
			<span class="close" node-type="layerclose"><i class="icons icons-close" ></i></span>
			<div class="layer-title"><h3 node-type="layertitle">安装扩展程序</h3></div>
		</div>	
		<div class="layer-body">
			<div class="message-box">
				<p node-type="layertype">您还未安装【屏幕共享】扩展</p>
				<p node-type="layerdesc">请选择您的安装方式：</p>
				<button class="btn" data-type='' node-type="layerbtn1">Google 商店安装</button>
				<button class="btn" data-type='' node-type="layerbtn2">本地安装</button>				
			</div>
		</div>
	</div>	
</div>
<!--扩展end-->

<script type="text/javascript">
	var mode = "<%=mode%>";
	var roomid = "<%=roomid%>";
	var uid = "<%=uid%>";
	var domain = "<%=domain%>";
	var iosocket = io.connect();
</script>
<script type="text/javascript" src="js/widgets/pptcontroller.js?v=1616"></script>
<script type="text/javascript" src="js/ppt/ppt_list.js"></script>
<script type="text/javascript" src="js/widgets/ppt_work.js"></script>
<script>
	var show_height = $('.ppt-show').height();
	var show_maxwidth = $('.ppt-show').width();
	//var uid = "16186109893997";
	var rid='';
	var hasnavone=true;
	var hasnavtwo = true;
	var isdrawingcircle = false;
	var ppt_array = Array();
	var room = roomid;
	var usertype = mode == "t" ? 'controller' : 'user';
	$(".ppt-show").pptController({pptdata : ppt_array,  ppt_container : new Array(ppt_array.length), ppt_preview_container : new Array(ppt_array.length)});
</script>

</body>
</html>
